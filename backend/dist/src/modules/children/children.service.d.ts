import { PrismaService } from '../../prisma/prisma.service';
import { Child } from '@prisma/client';
import { LinkChildDto, BulkUpdateGradesDto } from './dto/link-child.dto';
import { RequestLocationChangeDto, ReviewLocationChangeDto } from './dto/location-change.dto';
import { NotificationsService } from '../notifications/notifications.service';
export declare class ChildrenService {
    private prisma;
    private notificationsService;
    constructor(prisma: PrismaService, notificationsService: NotificationsService);
    findOne(id: string): Promise<Child | null>;
    findByParentId(parentId: string): Promise<Child[]>;
    findBySchoolId(schoolId: string): Promise<Child[]>;
    create(data: any): Promise<Child>;
    bulkOnboard(bulkData: any): Promise<{
        created: number;
        children: Child[];
    }>;
    private generateCodeSync;
    update(id: string, data: any): Promise<Child>;
    findAll(): Promise<Child[]>;
    remove(id: string): Promise<Child>;
    generateUniqueCode(): Promise<string>;
    linkChildToParent(parentId: string, linkDto: LinkChildDto): Promise<{
        parent: {
            id: string;
            firstName: string;
            lastName: string;
            email: string;
        };
        school: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            name: string;
            email: string | null;
            phone: string | null;
            companyId: string;
            latitude: number | null;
            longitude: number | null;
            address: string | null;
        };
    } & {
        id: string;
        uniqueCode: string | null;
        firstName: string;
        lastName: string;
        dateOfBirth: Date;
        grade: string | null;
        parentId: string | null;
        parentPhone: string | null;
        schoolId: string;
        routeId: string | null;
        pickupType: import(".prisma/client").$Enums.PickupType;
        pickupLatitude: number | null;
        pickupLongitude: number | null;
        pickupDescription: string | null;
        homeLatitude: number | null;
        homeLongitude: number | null;
        homeAddress: string | null;
        colorCode: string;
        isClaimed: boolean;
        daysUntilPayment: number | null;
        allergies: string | null;
        specialInstructions: string | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    bulkUpdateGrades(companyId: string, updateDto: BulkUpdateGradesDto, adminId: string): Promise<{
        message: string;
        promoted: number;
        repeated: number;
        updated?: undefined;
    } | {
        message: string;
        updated: number;
        promoted?: undefined;
        repeated?: undefined;
    }>;
    requestLocationChange(parentId: string, requestDto: RequestLocationChangeDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        requestedBy: string;
        oldLatitude: number | null;
        oldLongitude: number | null;
        oldAddress: string | null;
        newLatitude: number;
        newLongitude: number;
        newAddress: string | null;
        status: import(".prisma/client").$Enums.LocationChangeStatus;
        reason: string | null;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        reviewNotes: string | null;
        completedAt: Date | null;
        childId: string;
    }>;
    reviewLocationChangeRequest(requestId: string, adminId: string, reviewDto: ReviewLocationChangeDto): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        requestedBy: string;
        oldLatitude: number | null;
        oldLongitude: number | null;
        oldAddress: string | null;
        newLatitude: number;
        newLongitude: number;
        newAddress: string | null;
        status: import(".prisma/client").$Enums.LocationChangeStatus;
        reason: string | null;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        reviewNotes: string | null;
        completedAt: Date | null;
        childId: string;
    }>;
    getPendingLocationChangeRequests(companyId: string): Promise<({
        child: {
            parent: {
                id: string;
                firstName: string;
                lastName: string;
                email: string;
                phone: string;
            };
            school: {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                name: string;
                email: string | null;
                phone: string | null;
                companyId: string;
                latitude: number | null;
                longitude: number | null;
                address: string | null;
            };
        } & {
            id: string;
            uniqueCode: string | null;
            firstName: string;
            lastName: string;
            dateOfBirth: Date;
            grade: string | null;
            parentId: string | null;
            parentPhone: string | null;
            schoolId: string;
            routeId: string | null;
            pickupType: import(".prisma/client").$Enums.PickupType;
            pickupLatitude: number | null;
            pickupLongitude: number | null;
            pickupDescription: string | null;
            homeLatitude: number | null;
            homeLongitude: number | null;
            homeAddress: string | null;
            colorCode: string;
            isClaimed: boolean;
            daysUntilPayment: number | null;
            allergies: string | null;
            specialInstructions: string | null;
            createdAt: Date;
            updatedAt: Date;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        requestedBy: string;
        oldLatitude: number | null;
        oldLongitude: number | null;
        oldAddress: string | null;
        newLatitude: number;
        newLongitude: number;
        newAddress: string | null;
        status: import(".prisma/client").$Enums.LocationChangeStatus;
        reason: string | null;
        reviewedBy: string | null;
        reviewedAt: Date | null;
        reviewNotes: string | null;
        completedAt: Date | null;
        childId: string;
    })[]>;
}
